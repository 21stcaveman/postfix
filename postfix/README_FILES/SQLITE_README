PPoossttffiixx SSQQLLiittee HHoowwttoo

-------------------------------------------------------------------------------

IInnttrroodduuccttiioonn

The Postfix sqlite map type allows you to hook up Postfix to a SQLite database.
This implementation allows for multiple sqlite databases: you can use one for a
virtual(5) table, one for an access(5) table, and one for an aliases(5) table
if you want.

BBuuiillddiinngg PPoossttffiixx wwiitthh SSQQLLiittee ssuuppppoorrtt

The Postfix SQLite client utilizes the sqlite3 library, which can be obtained
from:

    http://www.sqlite.org/

In order to build Postfix with sqlite map support, you will need to add -
DHAS_SQLITE and -I for the directory containing the sqlite headers, and the
sqlite3 library to AUXLIBS, for example:

    make -f Makefile.init makefiles \
         'CCARGS=-DHAS_SQLITE -I/usr/local/include' \
         'AUXLIBS=-L/usr/local/lib -lsqlite3 -lpthread'

Then, just run 'make'.

UUssiinngg SSQQLLiittee ttaabblleess

Once Postfix is built with sqlite support, you can specify a map type in
main.cf like this:

    alias_maps = sqlite:/etc/postfix/sqlite-aliases.cf

The file /etc/postfix/sqlite-aliases.cf specifies lots of information telling
Postfix how to reference the sqlite database. For a complete description, see
the sqlite_table(5) manual page.

EExxaammppllee:: llooccaall aalliiaasseess

#
# sqlite config file for local(8) aliases(5) lookups
#

# Path to database
dbpath = /some/path/to/sqlite_database

# See sqlite_table(5) for details.
query = SELECT forw_addr FROM mxaliases WHERE alias='%s' AND status='paid'

AAddddiittiioonnaall nnootteess

The SQLite configuration interface setup allows for multiple sqlite databases:
you can use one for a virtual table, one for an access table, and one for an
aliases table if you want.

CCrreeddiittss

  * Implementation by Axel Steiner
  * Documentation by Jesus Garcia Crespo

