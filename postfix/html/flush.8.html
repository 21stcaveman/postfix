<html> <head> </head> <body> <pre>



FLUSH(8)                                                 FLUSH(8)


<b>NAME</b>
       flush - Postfix fast flush daemon

<b>SYNOPSIS</b>
       <b>flush</b> [generic Postfix daemon options]

<b>DESCRIPTION</b>
       The flush server maintains so-called "fast flush" logfiles
       with information about what messages are queued for a spe-
       cific  site.  This program expects to be run from the <a href="master.8.html"><b>mas-</b>
       <b>ter</b>(8)</a> process manager.

       This server implements the following requests:

       <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>ENABLE</b> <i>sitename</i>
              Enable fast flush logging for the specified site.

       <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>APPEND</b> <i>sitename</i> <i>queue_id</i>
              Append <i>queue_id</i> to the fast flush log for the spec-
              ified site.

       <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>SEND</b> <i>sitename</i>
              Arrange  for  the delivery of all messages that are
              listed in the fast flush logfile for the  specified
              site.   After the logfile is processed, the file is
              truncated to length zero.

       <b>TRIGGER</b><i>_</i><b>REQ</b><i>_</i><b>WAKEUP</b> (wakeup signal from master)

       <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>PURGE</b>
              Pretend that <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>SEND</b> was  received  for  all
              sites  with  a  non-empty "fast flush" logfile, and
              delete empty "fast flush" logfiles  that  have  not
              been  updated in several days.  This operation com-
              pletes in the background  because  it  can  take  a
              noticeable amount of time.

              Fast  flush  logfiles  are  truncated  only after a
              <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>SEND</b> request, not when mail  is  actually
              delivered,  and  therefore can accumulate redundant
              or even outdated information. In order to  maintain
              sanity, <b>FLUSH</b><i>_</i><b>REQ</b><i>_</i><b>PURGE</b> must be requested occasion-
              ally.

       The response to the client is one of:

       <b>FLUSH</b><i>_</i><b>STAT</b><i>_</i><b>OK</b>
              The request completed normally.

       <b>FLUSH</b><i>_</i><b>STAT</b><i>_</i><b>BAD</b>
              The flush server rejected the request (bad  request
              name, bad request parameter value).





                                                                1





FLUSH(8)                                                 FLUSH(8)


       <b>FLUSH</b><i>_</i><b>STAT</b><i>_</i><b>UNKNOWN</b>
              The specified site has no fast flush log.

<b>SECURITY</b>
       The  fast  flush server is not security-sensitive. It does
       not talk to the network, and it does  not  talk  to  local
       users.   The  fast  flush server can run chrooted at fixed
       low privilege.

<b>DIAGNOSTICS</b>
       Problems and transactions are logged to <b>syslogd</b>(8).

<b>BUGS</b>
       In reality, this server schedules  delivery  of  messages,
       regardless of their destination. This limitation is due to
       the fact that one queue runner has to handle mail for mul-
       tiple destinations.

<b>SEE</b> <b>ALSO</b>
       <a href="smtpd.8.html">smtpd(8)</a> Postfix SMTP server
       <a href="qmgr.8.html">qmgr(8)</a> Postfix queue manager
       syslogd(8) system logging

<b>LICENSE</b>
       The  Secure  Mailer  license must be distributed with this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

























                                                                2


</pre> </body> </html>
