<html> <body> <pre>
LMTP(8)                                                   LMTP(8)

<b>NAME</b>
       lmtp - Postfix local delivery via LMTP

<b>SYNOPSIS</b>
       <b>lmtp</b> [generic Postfix daemon options]

<b>DESCRIPTION</b>
       The  LMTP  client processes message delivery requests from
       the queue manager. Each request specifies a queue file,  a
       sender address, a domain or host to deliver to, and recip-
       ient information.  This program expects to be run from the
       <a href="master.8.html"><b>master</b>(8)</a> process manager.

       The  LMTP  client updates the queue file and marks recipi-
       ents as finished, or it informs  the  queue  manager  that
       delivery  should  be tried again at a later time. Delivery
       problem reports are sent to the <a href="bounce.8.html"><b>bounce</b>(8)</a> or <a href="defer.8.html"><b>defer</b>(8)</a> dae-
       mon as appropriate.

       The  LMTP  client connects to the destination specified in
       the message delivery  request.  The  destination,  usually
       specified in the Postfix <a href="transport.5.html"><b>transport</b>(5)</a> table, has the form:

       <b>unix</b>:<i>pathname</i>
              Connect to the local  UNIX-domain  server  that  is
              bound  to  the  specified  <i>pathname</i>. If the process
              runs chrooted, an absolute pathname is  interpreted
              relative to the changed root directory.

       <b>inet</b>:<i>host</i>, <b>inet:</b><i>host</i>:<i>port</i> (symbolic host)

       <b>inet</b>:[<i>addr</i>], <b>inet</b>:[<i>addr</i>]:<i>port</i> (numeric host)
              Connect to the specified IPV4 TCP port on the spec-
              ified local or remote host. If no  port  is  speci-
              fied,  connect  to the port defined as <b>lmtp</b> in <b>ser-</b>
              <b>vices</b>(4).   If  no  such  service  is  found,   the
              <b>lmtp_tcp_port</b>   configuration   parameter  (default
              value of 24) will be used.

              The  LMTP  client  does  not   perform   MX   (mail
              exchanger) lookups since those are defined only for
              mail delivery via SMTP.

       If  neither  <b>unix:</b>  nor  <b>inet:</b>  are  specified,  <b>inet:</b>  is
       assumed.

<b>SECURITY</b>
       The LMTP client is moderately security-sensitive. It talks
       to LMTP servers and to DNS servers  on  the  network.  The
       LMTP client can be run chrooted at fixed low privilege.

<b>STANDARDS</b>
       <a href="http://www.faqs.org/rfcs/rfc821.html">RFC 821</a> (SMTP protocol)
       <a href="http://www.faqs.org/rfcs/rfc1651.html">RFC 1651</a> (SMTP service extensions)
       <a href="http://www.faqs.org/rfcs/rfc1652.html">RFC 1652</a> (8bit-MIME transport)
       <a href="http://www.faqs.org/rfcs/rfc1870.html">RFC 1870</a> (Message Size Declaration)
       <a href="http://www.faqs.org/rfcs/rfc2033.html">RFC 2033</a> (LMTP protocol)
       <a href="http://www.faqs.org/rfcs/rfc2554.html">RFC 2554</a> (AUTH command)
       <a href="http://www.faqs.org/rfcs/rfc2821.html">RFC 2821</a> (SMTP protocol)
       <a href="http://www.faqs.org/rfcs/rfc2920.html">RFC 2920</a> (SMTP Pipelining)

<b>DIAGNOSTICS</b>
       Problems  and transactions are logged to <b>syslogd</b>(8).  Cor-
       rupted message files are marked so that the queue  manager
       can move them to the <b>corrupt</b> queue for further inspection.

       Depending on the setting of the <b>notify_classes</b>  parameter,
       the  postmaster is notified of bounces, protocol problems,
       and of other trouble.

<b>BUGS</b>
<b>CONFIGURATION PARAMETERS</b>
       The following <b>main.cf</b> parameters are  especially  relevant
       to  this  program. See the Postfix <b>main.cf</b> file for syntax
       details and for default values.  Use  the  <b>postfix  reload</b>
       command after a configuration change.

<b>Miscellaneous</b>
       <b>debug_peer_level</b>
              Verbose  logging  level  increment  for  hosts that
              match a pattern in the <b>debug_peer_list</b> parameter.

       <b>debug_peer_list</b>
              List of domain or network patterns. When  a  remote
              host  matches  a pattern, increase the verbose log-
              ging  level  by  the  amount   specified   in   the
              <b>debug_peer_level</b> parameter.

       <b>error_notice_recipient</b>
              Recipient    of   protocol/policy/resource/software
              error notices.

       <b>notify_classes</b>
              When this parameter includes  the  <b>protocol</b>  class,
              send  mail  to  the  postmaster with transcripts of
              LMTP sessions with protocol errors.

       <b>lmtp_skip_quit_response</b>
              Do not wait for the server response  after  sending
              QUIT.

       <b>lmtp_tcp_port</b>
              The  TCP  port to be used when connecting to a LMTP
              server.  Used as backup if the <b>lmtp</b> service is  not
              found in <b>services</b>(4).

       <b>lmtp_send_xforward_command</b>
              If the LMTP server announces XFORWARD support, send
              the name, address, protocol and HELO  name  of  the
              original client. This can be used to forward client
              information through a content  filter  to  a  down-
              stream queuing LMTP server.

<b>Authentication controls</b>
       <b>lmtp_sasl_auth_enable</b>
              Enable  per-session  authentication as per <a href="http://www.faqs.org/rfcs/rfc2554.html">RFC 2554</a>
              (SASL).  By default, Postfix is built without  SASL
              support.

       <b>lmtp_sasl_password_maps</b>
              Lookup tables with per-host or domain <i>name</i>:<i>password</i>
              entries.  No entry for a host means no  attempt  to
              authenticate.

       <b>lmtp_sasl_security_options</b>
              Zero or more of the following.

              <b>noplaintext</b>
                     Disallow  authentication  methods  that  use
                     plaintext passwords.

              <b>noactive</b>
                     Disallow  authentication  methods  that  are
                     vulnerable to non-dictionary active attacks.

              <b>nodictionary</b>
                     Disallow  authentication  methods  that  are
                     vulnerable to passive dictionary attack.

              <b>noanonymous</b>
                     Disallow anonymous logins.

<b>Resource controls</b>
       <b>lmtp_cache_connection</b>
              Should  we cache the connection to the LMTP server?
              The effectiveness of  cached  connections  will  be
              determined  by  the  number of LMTP servers in use,
              and the concurrency limit specified  for  the  LMTP
              client.  Cached connections are closed under any of
              the following conditions:

              <b>o</b>      The LMTP client idle time limit is  reached.
                     This  limit  is  specified  with the Postfix
                     <b>max_idle</b> configuration parameter.

              <b>o</b>      A delivery  request  specifies  a  different
                     destination than the one currently cached.

              <b>o</b>      The  per-process  limit  on  the  number  of
                     delivery requests is reached.  This limit is
                     specified  with the Postfix <b>max_use</b> configu-
                     ration parameter.

              <b>o</b>      Upon the onset of another delivery  request,
                     the  LMTP server associated with the current
                     session does not respond to  the  <b>RSET</b>  com-
                     mand.

       <i>transport</i><b>_destination_concurrency_limit</b>
              Limit the number of parallel deliveries to the same
              destination  via  this  mail  delivery   transport.
              <i>transport</i>  is  the name of the service as specified
              in the <b>master.cf</b> file.  The default limit is  taken
              from    the   <b>default_destination_concurrency_limit</b>
              parameter.

       <i>transport</i><b>_destination_recipient_limit</b>
              Limit the number of recipients per message delivery
              via  this mail delivery transport. <i>transport</i> is the
              name of the service as specified in  the  <b>master.cf</b>
              file.    The   default  limit  is  taken  from  the
              <b>default_destination_recipient_limit</b> parameter.

              This parameter  becomes  significant  if  the  LMTP
              client  is  used  for  local  delivery.   Some LMTP
              servers can optimize delivery of the  same  message
              to multiple recipients. The default limit for local
              mail delivery is 1.

              Setting  this  parameter  to  0  will  lead  to  an
              unbounded  number of recipients per delivery.  How-
              ever, this could be risky since  it  may  make  the
              machine  vulnerable  to running out of resources if
              messages are encountered with an inordinate  number
              of  recipients.   Exercise  care  when setting this
              parameter.

<b>Timeout controls</b>
       The default time unit is seconds; an  explicit  time  unit
       can  be  specified by appending a one-letter suffix to the
       value: s (seconds), m (minutes), h (hours), d (days) or  w
       (weeks).

       <b>lmtp_connect_timeout</b>
              Timeout  for  opening  a  connection  to  the  LMTP
              server.  If no connection can be  made  within  the
              deadline, the message is deferred.

       <b>lmtp_lhlo_timeout</b>
              Timeout  for  sending  the  <b>LHLO</b>  command,  and for
              receiving the server response.

       <b>lmtp_xforward_timeout</b>
              Timeout for sending the <b>XFORWARD</b> command,  and  for
              receiving the server response.

       <b>lmtp_mail_timeout</b>
              Timeout  for sending the <b>MAIL FROM</b> command, and for
              receiving the server response.

       <b>lmtp_rcpt_timeout</b>
              Timeout for sending the <b>RCPT TO</b>  command,  and  for
              receiving the server response.

       <b>lmtp_data_init_timeout</b>
              Timeout  for  sending  the  <b>DATA</b>  command,  and for
              receiving the server response.

       <b>lmtp_data_xfer_timeout</b>
              Timeout for sending the message content.

       <b>lmtp_data_done_timeout</b>
              Timeout  for  sending  the  "<b>.</b>"  command,  and  for
              receiving  the server response. When no response is
              received, a warning is logged that the mail may  be
              delivered multiple times.

       <b>lmtp_rset_timeout</b>
              Timeout  for  sending  the  <b>RSET</b>  command,  and for
              receiving the server response.

       <b>lmtp_quit_timeout</b>
              Timeout for  sending  the  <b>QUIT</b>  command,  and  for
              receiving the server response.

<b>SEE ALSO</b>
       <a href="bounce.8.html">bounce(8)</a> non-delivery status reports
       <a href="local.8.html">local(8)</a> local mail delivery
       <a href="master.8.html">master(8)</a> process manager
       <a href="qmgr.8.html">qmgr(8)</a> queue manager
       services(4) Internet services and aliases
       <a href="spawn.8.html">spawn(8)</a> auxiliary command spawner
       syslogd(8) system logging

<b>LICENSE</b>
       The  Secure  Mailer  license must be distributed with this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

       Alterations for LMTP by:
       Philip A. Prindeville
       Mirapoint, Inc.
       USA.

       Additional work on LMTP by:
       Amos Gouaux
       University of Texas at Dallas
       P.O. Box 830688, MC34
       Richardson, TX 75083, USA

                                                          LMTP(8)
</pre> </body> </html>
