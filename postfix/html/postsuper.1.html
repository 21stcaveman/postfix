<html> <head> </head> <body> <pre>



POSTSUPER(1)                                         POSTSUPER(1)


<b>NAME</b>
       postsuper - Postfix super intendent

<b>SYNOPSIS</b>
       <b>postsuper</b> [<b>-d</b> <i>queue_id</i>] [<b>-p</b>] [<b>-s</b>] [<b>-v</b>] [<i>directory</i> <i>...</i>]

<b>DESCRIPTION</b>
       The  <b>postsuper</b> command does small maintenance jobs. Use of
       the command is restricted to the super-user.

       By default, <b>postsuper</b> performs  the  operations  requested
       with the <b>-s</b> and <b>-p</b> command-line options on the named Post-
       fix queue directories (default: all).  Directory names are
       relative to the Postfix top-level queue directory.

       Options:

       <b>-d</b>     This  option  ignores  any  <i>directory</i>  argument(s).
              Delete one message queue file with the named  queue
              ID.  Specify multiple <b>-d</b> options to delete multiple
              queue files by name.

              Alternatively, if a <i>queue_id</i> of <b>-</b> is specified, the
              program reads queue IDs from standard input.

              The  <b>postsuper</b> exit status is non-zero when no mes-
              sage queue file was deleted.

              <b>There</b> <b>is</b> <b>a</b> <b>very</b> <b>small</b>  <b>possibility</b>  <b>that</b>  <b>postsuper</b>
              <b>deletes</b>  <b>the</b> <b>wrong</b> <b>message</b> <b>file</b> <b>when</b> <b>it</b> <b>is</b> <b>executed</b>
              <b>while</b> <b>the</b> <b>Postfix</b> <b>mail</b> <b>system</b> <b>is</b> <b>running.</b>

              The scenario is as follows:

              <b>o</b>      The Postfix queue manager deletes  the  file
                     that   <b>postsuper</b>  was  supposed  to  delete,
                     because Postfix was finished with  the  mes-
                     sage.

              <b>o</b>      New  mail  arrives,  and  the new message is
                     given the same queue ID as the message  that
                     <b>postsuper</b> was supposed to delete.  The prob-
                     ability for reusing a deleted  queue  ID  is
                     about  1  in  2**15 (the number of different
                     microsecond values that the system clock can
                     distinguish).

              <b>o</b>      <b>postsuper</b>  deletes  the  new  message  file,
                     instead of the old  file  that  should  have
                     been deleted.

       <b>-s</b>     Structure  check.  Move queue files that are in the
              wrong place in the file system hierarchy and remove
              subdirectories  that  are  no  longer  needed. File



                                                                1





POSTSUPER(1)                                         POSTSUPER(1)


              rearrangements are necessary after a change in  the
              <b>hash</b><i>_</i><b>queue</b><i>_</i><b>names</b> and/or <b>hash</b><i>_</i><b>queue</b><i>_</i><b>depth</b> configura-
              tion parameters. It is highly  recommended  to  run
              this check once before Postfix startup.

       <b>-p</b>     Purge  stale  files (files that are left over after
              system or software crashes).

       <b>-v</b>     Enable verbose logging for debugging purposes. Mul-
              tiple  <b>-v</b>  options  make  the software increasingly
              verbose.

<b>DIAGNOSTICS</b>
       Problems are reported to the standard error stream and  to
       <b>syslogd</b>.

<b>CONFIGURATION</b> <b>PARAMETERS</b>
       See  the  Postfix  <b>main.cf</b> file for syntax details and for
       default values.

       <b>hash</b><i>_</i><b>queue</b><i>_</i><b>depth</b>
              Number of subdirectory levels for hashed queues.

       <b>hash</b><i>_</i><b>queue</b><i>_</i><b>names</b>
              The names of queues that are organized into  multi-
              ple levels of subdirectories.

<b>LICENSE</b>
       The  Secure  Mailer  license must be distributed with this
       software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA





















                                                                2


</pre> </body> </html>
