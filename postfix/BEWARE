LINUX SYSLOGD PERFORMANCE
=========================

LINUX syslogd uses synchronous writes by default, which is very
expensive. For services such a mail it is recommended that you
disable synchronous logfile writes by prepending a - to the logfile
name:

    mail.*                          -/var/log/mail.log

SPAM BLOCKING SOURCE ROUTED ADDRESSES
=====================================

If you are responsible for a backup MX host for some domain (either
your own domain or the domain of some other organization) it is
prudent to block addresses with multiple address operators at the
SMTP port, such as:

    user@elsewhere@some.domain
    user%elsewhere@some.domain
    elsewhere!user@some.domain

The problem is that the primary MX host for some.domain may forward
the above to user@elsewhere. This can happen because the primary
MX host somehow "trusts" your backup MX host, or because the primary
MX host is badly configured.

The bad news is that your backup MX machine can end up on a black
list because it accepted the mail, even though the problem involves
a primary MX host that perhaps is not under your control.

The simplest solution is to install a regular expression filter:

    /etc/postfix/main.cf: 
	smtpd_recipient_restrictions = 
	    regexp:/etc/postfix/regexp_access
	    ...other restrictions...

    /etc/postfix/regexp_access:
	/[%!@].*[%!@]/ 550 Sender specified routing is not supported here.

For the local domain, Postfix will do the right thing with:

    user@elsewhere@my.own.domain
    user%elsewhere@my.own.domain
    elsewhere!user@my.own.domain

That is, it bounces the first form because "user@elsewhere" is not
a valid local user, and it accepts the second and third forms only
when user@elsewhere is a valid relay destination.
