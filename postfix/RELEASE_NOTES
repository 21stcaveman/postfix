The stable Postfix release is called postfix-2.4.x where 2=major
release number, 4=minor release number, x=patchlevel.  The stable
release never changes except for patches that address bugs or
emergencies. Patches change the patchlevel and the release date.

New features are developed in snapshot releases. These are called
postfix-2.5-yyyymmdd where yyyymmdd is the release date (yyyy=year,
mm=month, dd=day).  Patches are never issued for snapshot releases;
instead, a new snapshot is released.

The mail_release_date configuration parameter (format: yyyymmdd)
specifies the release date of a stable release or snapshot release.

Incompatibility with Postfix 2.3 and earlier
============================================

If you upgrade from Postfix 2.3 or earlier, read RELEASE_NOTES-2.4
before proceeding.

Major changes with Postfix snapshot 20071205
============================================

The "make install" and "make upgrade" procedures now create a
postfix-owned directory for Postfix-writable data files such as
caches and random numbers. The location is specified with the
"data_directory" variable (default: "/var/lib/postfix").

Incompatibility with Postfix snapshot 20071203
==============================================

The "make upgrade" procedure adds a new service "proxywrite" to the
master.cf file, for read/write lookup table access. If you copy
your old configuration file over the updated one, you will have
to run "postfix upgrade-configuration" again.

Major changes with Postfix snapshot 20071202
============================================

Output rate control in the queue manager. For example, specify
"smtp_delivery_rate_delay = 5m", to pause five minutes between
message deliveries. More information in the postconf(5) manual
under "default_delivery_rate_delay".

Major changes with Postfix snapshot 20071130
============================================

Revised queue manager with separate mechanisms for per-destination
concurrency control and for dead destination detection.  The
concurrency control supports less-than-1 feedback to allow for more
gradual concurrency adjustments, and uses hysteresis to avoid rapid
oscillations.  A destination is declared "dead" after a configurable
number of pseudo-cohorts(*) reports connection or handshake failure.

(*) A pseudo-cohort is a number of delivery requests equal to a
    destination's delivery concurrency.

The drawbacks of the old +/-1 feedback scheduler are a) overshoot
due to exponential delivery concurrency growth with each pseudo-cohort(*)
(5-10-20...); b) throttling down to zero concurrency after a single
pseudo-cohort(*) failure. The latter was especially an issue with
low-concurrency channels where a single failure could be sufficient
to mark a destination as "dead", and suspend further deliveries.

New configuration parameters: destination_concurrency_feedback_debug,
default_destination_concurrency_positive_feedback,
default_destination_concurrency_negative_feedback,
default_destination_concurrency_failed_cohort_limit, as well as
transport-specific versions of the same.  See postconf(5) for
extensive descriptions, and SCHEDULER_README for background information
on the theory and practice of how these settings work.

The default parameter settings are backwards compatible with older
Postfix versions. This may change after better defaults are field
tested.

Major changes with Postfix snapshot 20071111
============================================

Header/body checks are now available in the SMTP client, after the
implementation was moved from the cleanup server to a library module.
The SMTP client provides only actions that don't change the message
delivery time or destination: warn, replace, prepend, ignore, dunno,
ok.

Major changes with Postfix snapshot 20070911
============================================

Stress-adaptive behavior. When a "public" network service runs into
an "all processes are busy" condition, the master(8) daemon logs a
warning, restarts the service, and runs it with "-o stress=yes" on
the command line (under normal conditions it runs the service with
"-o stress=" on the command line).  This can be used to make main.cf
parameter settings stress dependent, for example:

/etc/postfix/main.cf:
    smtpd_timeout = ${stress?10}${stress:300}
    smtpd_hard_error_limit = ${stress?1}${stress:20}

Translation: under conditions of stress, use an smtpd_timeout value
of 10 seconds instead of 300, and use smtpd_hard_error_limit of 1
instead of 20. The syntax is explained in the postconf(5) manpage.

This feature needs further configuration and documentation, but is
already useful in its present form.

Major changes with Postfix snapshot 20070724
============================================

Not really major. New support for RFC 3848 (Received: headers with
ESMTPS, ESMTPA, or ESMTPSA); updated SASL support according to RFC
4954, resulting in small changes to SMTP reply codes and (DSN)
enhanced status codes.

Incompatibility with Postfix snapshot 20070614
==============================================

By default, the Postfix Cyrus SASL client no longer sends a SASL
authoriZation ID (authzid); it sends only the SASL authentiCation
ID (authcid) plus the authcid's password. Specify "send_cyrus_sasl_authzid
= yes" to get the old behavior.

Incompatibility with Postfix snapshot 20070613
==============================================

The pipe(8) delivery agent no longer allows delivery with the same
group ID as the main.cf postdrop group.

Incompatibility with Postfix snapshot 20070514
==============================================

The default sender address for address verification probes was
changed from "postmaster" to "double-bounce", so that the Postfix
SMTP server no longer causes surprising behavior by excluding
"postmaster" from SMTP server access controls.

Incompatibility with Postfix snapshot 20070422
==============================================

When the pipe(8) delivery agent is configured to create the optional
Delivered-To: header, it now first checks if that same header is
already present in the message. If so, the message is returned as
undeliverable. This test should have been included with Postfix 2.0
when Delivered-To: support was added to the pipe(8) delivery agent.
